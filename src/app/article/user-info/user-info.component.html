<p><span>User: </span><span>{{ me }}</span></p>
<div class="row" *ngIf="myInfo.is_staff">
  <form class="col s12"
        (ngSubmit)="onSubmit(userId.value)">
    <div class="row">
      <div class="input-field col s6">
        <input id="userId"
               type="text"
               class="validate"
               ngModel
               name="userId"
               #userId/>
        <label for="userId">User Account</label>
        <div class="error" *ngIf="error">{{ error.detail }}</div>
      </div>
      <br/>
      <button id="find"
              type="submit"
              class="btn waves-effect waves-light light-blue"
              name="action">Find
        <i class="material-icons left">search</i>
      </button>
    </div>
  </form>
</div>
<table class="highlight">
  <tbody>
    <tr>
      <th>User Name</th>
      <td>{{ userInfo.first_name}} {{ userInfo.last_name }}</td>
    </tr>
    <tr>
      <th>User Account</th>
      <td>{{ userInfo.username }}</td>
    </tr>
    <tr>
      <th>User ID</th>
      <td>{{ userInfo.student_id }}</td>
    </tr>
    <tr>
      <th>Birthday</th>
      <td>{{ userInfo.birthday }}</td>
    </tr>
    <tr>
      <th>Address</th>
      <td>{{ userInfo.address }}</td>
    </tr>
    <tr>
      <th>Phone</th>
      <td>{{ userInfo.phone_number }}</td>
    </tr>
    <tr>
      <th>Email</th>
      <td>{{ userInfo.email }}</td>
    </tr>
  </tbody>
</table>
<br/><br/>
<hr/>
<table class="responsive-table stripped">
  <thead>
  <tr>
    <th data-field="id">#</th>
    <th data-field="name">Book Name</th>
    <th data-field="isbn">ISBN</th>
    <th data-field="barCode">Bar Code</th>
    <th data-field="bor_day">Borrow Day</th>
    <th data-field="due_day">Due Day</th>
    <th data-field="oper" class="right-align"></th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let book of books; let i = index;">
    <td>{{i+1}}</td>
    <td *ngIf="bookInfo[i]">{{ bookInfo[i].title }}</td>
    <td *ngIf="bookInfo[i]">{{ bookInfo[i].ISBN }}</td>
    <td>{{ book.bar_code }}</td>
    <td>{{ book.borrowed_time }}</td>
    <td>{{ book.due_time }}</td>
    <td *ngIf="bookInfo[i]"><a class="btn waves-effect" [routerLink]="['/book-info/'+bookInfo[i].id]">Detail</a></td>
  </tr>
  </tbody>
</table>
